!function(r){var e={};function o(t){if(e[t])return e[t].exports;var a=e[t]={i:t,l:!1,exports:{}};return r[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=r,o.c=e,o.d=function(r,e,t){o.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},o.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var a in r)o.d(t,a,function(e){return r[e]}.bind(null,a));return t},o.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(e,"a",e),e},o.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},o.p="",o(o.s=1)}([function(r,e,o){},function(r,e,o){"use strict";o.r(e);o(0);function t(r,e,o){return e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o,r}(function(){var r=document.querySelector(".mainWrap"),e=document.createElement("div");e.classList.add("panel"),e.textContent="YOUR SCORE";var o=document.createElement("div");o.classList.add("nextSquare"),r.appendChild(e),r.appendChild(o);var t=document.createElement("div");t.classList.add("playAgainBtn"),r.appendChild(t)})();new function r(){var e=this;!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),t(this,"resetAll",(function(){location.reload()})),t(this,"markBuddiesToRemove",(function(){for(var r=0;r<4;r++)for(var o=0;o<5;o++)if(!0===e.squaresGoingOut[r][o]){var t=e.getColor(e.squares[r][o]);e.getColor(e.squares[r+1][o])===t&&(e.squaresGoingOut[r+1][o]=!0,console.log("my lower row buddy goes out too!"))}for(var a=1;a<5;a++)for(var n=0;n<5;n++)if(!0===e.squaresGoingOut[a][n]){var u=e.getColor(e.squares[a][n]);e.getColor(e.squares[a-1][n])===u&&(e.squaresGoingOut[a-1][n]=!0,console.log("my higher row buddy goes out too!"))}for(var s=0;s<5;s++)for(var i=0;i<4;i++)if(!0===e.squaresGoingOut[s][i]){var l=e.getColor(e.squares[s][i]);e.getColor(e.squares[s][i+1])===l&&(e.squaresGoingOut[s][i+1]=!0,console.log("my right hand side column buddy goes out too!"))}for(var c=0;c<5;c++)for(var d=1;d<5;d++)if(!0===e.squaresGoingOut[c][d]){var f=e.getColor(e.squares[c][d]);e.getColor(e.squares[c][d-1])===f&&(e.squaresGoingOut[c][d-1]=!0,console.log("my left hand side column buddy goes out too!"))}})),t(this,"markTrios",(function(r,o,t){"horizontally"===t?(e.squaresGoingOut[r][o]=!0,e.squaresGoingOut[r][o+1]=!0,e.squaresGoingOut[r][o+2]=!0):(e.squaresGoingOut[r][o]=!0,e.squaresGoingOut[r+1][o]=!0,e.squaresGoingOut[r+2][o]=!0)})),t(this,"checkIfGameOver",(function(){return 9===e.findAvailableSquare([0,1,2,3,4])[0]})),t(this,"endGame",(function(){e.checkIfGameOver()&&(e.gameOver=!0,e.panel.style.backgroundColor="red",e.panel.textContent="FINAL SCORE: ".concat(e.score))})),t(this,"pickColor",(function(){return e.squareColors[Math.floor(Math.random()*e.squareColors.length)]})),t(this,"getColor",(function(r){return window.getComputedStyle(r).getPropertyValue("background-color")})),t(this,"areSameColor",(function(r,o,t){return"rgba(0, 0, 0, 0)"!==e.getColor(r)&&("rgba(0, 0, 0, 0)"!==e.getColor(o)&&("rgba(0, 0, 0, 0)"!==e.getColor(t)&&(e.getColor(r)===e.getColor(o)&&e.getColor(o)===e.getColor(t))))})),t(this,"tallyAndClear",(function(){for(var r=0;r<5;r++)for(var o=0;o<5;o++)if(!0===e.squaresGoingOut[r][o]){e.score++,e.squaresGoingOut[r][o]=!1,e.cleanSquares[r][o]=!0;var t=e.getColor(e.squares[r][o]);e.emptySquare(e.squares[r][o],t)}e.panel.textContent="".concat(e.score),e.checkIfGameOver()&&e.endGame()})),t(this,"checkSquaresRemoveAndScore",(function(){for(var r=0;r<5;r++)for(var o=0;o<3;o++)e.areSameColor(e.squares[r][o],e.squares[r][o+1],e.squares[r][o+2])&&e.markTrios(r,o,"horizontally");for(var t=0;t<5;t++)for(var a=0;a<3;a++)e.areSameColor(e.squares[a][t],e.squares[a+1][t],e.squares[a+2][t])&&e.markTrios(a,t,"vertically");e.markBuddiesToRemove(),e.tallyAndClear()})),t(this,"displayNextColor",(function(){e.nextColorSquare.style.backgroundColor=e.nextColor,e.nextColorSquare.textContent=""})),t(this,"shuffle",(function(r){for(var e=r.length-1;e>0;e--){var o=Math.floor(Math.random()*(e+1)),t=[r[o],r[e]];return r[e]=t[0],r[o]=t[1],r}})),t(this,"findAvailableSquare",(function(r){for(var o=0;o<5;o++)for(var t=0;t<5;t++){var a=r[o],n=r[t];if(!0===e.cleanSquares[a][n])return[a,n]}return[9,9]})),t(this,"ComputerAddMoreSquares",(function(){if(!e.gameOver){var r=e.pickColor(),o=e.shuffle([0,1,2,3,4]),t=e.findAvailableSquare(o);if(9===t[0])return e.endGame(),console.log("KONIEC!!!");e.cleanSquares[t[0]][t[1]]=!1,e.squares[t[0]][t[1]].animate([{backgroundColor:"transparent"},{backgroundColor:r}],{fill:"forwards",duration:300,iterations:1}),e.checkSquaresRemoveAndScore(),e.checkIfGameOver()&&e.endGame()}})),t(this,"fillSquare",(function(r){if(!e.gameOver){var o=r.target.dataset.row,t=r.target.dataset.column,a=e.squares[o][t];"rgba(0, 0, 0, 0)"===e.getColor(a)&&(e.cleanSquares[o][t]=!1,a.animate([{backgroundColor:"transparent"},{backgroundColor:e.nextColor}],{fill:"forwards",duration:300,iterations:1}),e.checkSquaresRemoveAndScore(),e.nextColor=e.pickColor(),e.displayNextColor(),setTimeout((function(){e.ComputerAddMoreSquares()}),700))}})),t(this,"emptySquare",(function(r,e){r.animate([{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"},{backgroundColor:e},{backgroundColor:"transparent"}],{fill:"forwards",duration:500,iterations:1})})),t(this,"initSquares",(function(){for(var r=0;r<5;r++)for(var o=0;o<5;o++){var t=document.createElement("div");t.classList.add("square"),t.setAttribute("data-row","".concat(r)),t.setAttribute("data-column","".concat(o)),t.addEventListener("click",(function(r){return e.fillSquare(r)})),e.board.appendChild(t),e.squares[r][o]=t,e.replay.addEventListener("click",(function(){return e.resetAll()}))}})),this.replay=document.querySelector(".playAgainBtn"),this.mainWrapper=document.querySelector(".mainWrap"),this.board=document.createElement("div"),this.panel=document.querySelector(".panel"),this.board.classList.add("board"),this.mainWrapper.appendChild(this.board),this.squares=[[],[],[],[],[]],this.squaresGoingOut=[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],this.cleanSquares=[[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0]],this.score=0,this.squareColors=["darkblue","darkred","yellow","black","green"],this.nextColor=this.pickColor(),this.nextColorSquare=document.querySelector(".nextSquare"),this.gameOver=!1,this.initSquares()}}]);